{"ast":null,"code":"import _slicedToArray from\"/home/ugaly/Desktop/semister 2/react-scheduler-demo-standard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{BeatLoader,ClockLoader}from\"react-spinners\";import BarLoader from\"react-spinners/BarLoader\";import AuthService from\"../../../services/auth/auth_service\";import App from\"../../../App\";import{jsx as _jsx}from\"react/jsx-runtime\";function PreDashboard(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showLoader=_useState2[0],setShowLoader=_useState2[1];useEffect(function(){AuthService.loadByUsersById(sessionStorage.getItem('id')).then(function(r){console.log(r.data.results[0].role.name);var role=r.data.results[0].role;var user_id=r.data.results[0].id;sessionStorage.setItem('role',role.name);sessionStorage.setItem('user_id',user_id);sessionStorage.setItem('user',r.data.results[0].user);sessionStorage.setItem('first_name',r.data.results[0].firstName);sessionStorage.setItem('last_name',r.data.results[0].lastName);sessionStorage.setItem('email',r.data.results[0].email);sessionStorage.setItem('username',r.data.results[0].username);setTimeout(function(){setShowLoader(false);// Hide the loader after 5 minutes\n},2*1000);});},[]);// Empty dependency array to run the effect only once\nreturn/*#__PURE__*/_jsx(\"div\",{children:!showLoader?sessionStorage.getItem('role')===\"Venue Manager\"?/*#__PURE__*/_jsx(App,{}):sessionStorage.getItem('role')===\"User\"?/*#__PURE__*/_jsx(App,{}):sessionStorage.getItem('role')===\"Admin\"?/*#__PURE__*/_jsx(App,{}):\"Loading...\":/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",top:0,left:0,bottom:0,right:0,background:'#fff',zIndex:1,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(ClockLoader,{color:\"#5E72E4\",loading:true,size:30,width:'16%'})})});}export default PreDashboard;","map":{"version":3,"names":["React","useEffect","useState","BeatLoader","ClockLoader","BarLoader","AuthService","App","jsx","_jsx","PreDashboard","_useState","_useState2","_slicedToArray","showLoader","setShowLoader","loadByUsersById","sessionStorage","getItem","then","r","console","log","data","results","role","name","user_id","id","setItem","user","firstName","lastName","email","username","setTimeout","children","style","position","top","left","bottom","right","background","zIndex","display","justifyContent","alignItems","color","loading","size","width"],"sources":["/home/ugaly/Desktop/semister 2/react-scheduler-demo-standard/src/components/pages/pre-dashboard/PreDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\n\nimport {BeatLoader, ClockLoader} from \"react-spinners\";\nimport BarLoader from \"react-spinners/BarLoader\";\nimport AuthService from \"../../../services/auth/auth_service\";\nimport App from \"../../../App\";\n\nfunction PreDashboard() {\n  const [showLoader, setShowLoader] = useState(true);\n\n  useEffect(() => {\n    AuthService.loadByUsersById(sessionStorage.getItem('id')).then(r => {\n      console.log(r.data.results[0].role.name);\n      const role = r.data.results[0].role;\n      const user_id = r.data.results[0].id;\n      sessionStorage.setItem('role', role.name);\n      sessionStorage.setItem('user_id', user_id);\n      sessionStorage.setItem('user', r.data.results[0].user);\n      sessionStorage.setItem('first_name', r.data.results[0].firstName);\n      sessionStorage.setItem('last_name', r.data.results[0].lastName);\n      sessionStorage.setItem('email', r.data.results[0].email);\n      sessionStorage.setItem('username', r.data.results[0].username);\n\n      setTimeout(() => {\n        setShowLoader(false); // Hide the loader after 5 minutes\n      }, 2 * 1000);\n    });\n  }, []); // Empty dependency array to run the effect only once\n\n  return (\n    <div>\n      {!showLoader ? (\n        sessionStorage.getItem('role') === \"Venue Manager\" ? <App /> :\n             sessionStorage.getItem('role') === \"User\" ? <App /> :\n          sessionStorage.getItem('role') === \"Admin\" ? <App /> : \"Loading...\"\n      ) : (\n        <div style={{ position: \"absolute\", top: 0, left: 0, bottom: 0, right: 0, background: '#fff', zIndex: 1, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n          {/* Use BeatLoader as the loader */}\n          <ClockLoader color=\"#5E72E4\" loading={true} size={30} width={'16%'} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default PreDashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}