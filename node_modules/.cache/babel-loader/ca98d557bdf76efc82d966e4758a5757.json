{"ast":null,"code":"import _slicedToArray from\"/home/ugaly/Desktop/semister 2/react-scheduler-demo-standard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import AuthService from\"../../services/auth/auth_service\";import jwt_decode from'jwt-decode';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"User\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"Mwalwama@123\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleLogin=function handleLogin(e){e.preventDefault();var data={'username':username,'password':password};try{AuthService.login(data).then(function(r){try{console.log(r.data);var access=r.data.access;var refresh=r.data.refresh;var decoded=jwt_decode(access);console.log(decoded.user_id);sessionStorage.setItem('login','true');sessionStorage.setItem('id',decoded.user_id);sessionStorage.setItem('access',access);sessionStorage.setItem('refresh',refresh);window.location.reload();}catch(e){console.log(\"mwalwama \"+e);}});}catch(e){console.log(e);}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"section\",{className:\"w-full max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"flex items-center mb-6 text-2xl font-semibold text-gray-900 \",children:\"Venue Booking System\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-white rounded-lg shadow  md:mt-0 sm:max-w-md xl:p-0  \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4 bg-gray-50 md:space-y-6 sm:p-8  rounded-lg shadow  border-gray-900  \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl md:text-2xl font-bold text-gray-900 \",children:\"Sign in to your account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4   md:space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block mb-2 text-sm font-medium text-gray-900 \",children:\"Your email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 \",placeholder:\"name@gmail.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block mb-2 text-sm font-medium text-gray-900 \",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 :bg-gray-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center h-5\",children:/*#__PURE__*/_jsx(\"input\",{id:\"remember\",\"aria-describedby\":\"remember\",type:\"checkbox\",className:\"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300\",required:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3 text-sm\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"remember\",className:\"text-gray-500\",children:\"Remember me\"})})]}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-sm font-medium text-primary-600 hover:underline\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return handleLogin(e);},className:\"w-full text-white bg-blue-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center :bg-primary-600\",children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-light text-gray-500\",children:[\"Don\\u2019t have an account yet? \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"font-medium text-primary-600 hover:underline \",children:\"Sign up\"})]})]})]})})]})})});};export default Login;","map":{"version":3,"names":["React","useState","AuthService","jwt_decode","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","handleLogin","e","preventDefault","data","login","then","r","console","log","access","refresh","decoded","user_id","sessionStorage","setItem","window","location","reload","className","children","href","htmlFor","type","name","id","value","onChange","target","placeholder","required","onClick"],"sources":["/home/ugaly/Desktop/semister 2/react-scheduler-demo-standard/src/components/pages/login.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport AuthService from \"../../services/auth/auth_service\";\nimport jwt_decode from 'jwt-decode';\n\nconst Login = () => {\n\n   const [username, setUsername] = useState(\"User\");\n  const [password, setPassword] = useState(\"Mwalwama@123\");\n\n  const handleLogin = (e) => {\n  e.preventDefault();\n  const data = {\n    'username': username,\n    'password': password\n  };\n\n  try {\n    AuthService.login(data).then(r => {\n      try {\n        console.log(r.data);\n        let access = r.data.access;\n        let refresh = r.data.refresh;\n\n        const decoded = jwt_decode(access);\n        console.log(decoded.user_id);\n\n        sessionStorage.setItem('login', 'true');\n        sessionStorage.setItem('id', decoded.user_id);\n        sessionStorage.setItem('access', access);\n        sessionStorage.setItem('refresh', refresh);\n        window.location.reload()\n\n      } catch (e) {\n        console.log(\"mwalwama \" + e);\n      }\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\n    return(\n        <div className=\"flex items-center justify-center min-h-screen\">\n          {/*  <section className=\"bg-gray-50 dark:bg-gray-900\">*/}\n                <section className=\"w-full max-w-md\">\n                <div className=\"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0\">\n                    <a href=\"#\" className=\"flex items-center mb-6 text-2xl font-semibold text-gray-900 \">\n                        {/*<img className=\"w-8 h-8 mr-2\"\n                             src=\"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg\" alt=\"logo\"/>*/}\n                            Venue Booking System\n                    </a>\n                    <div\n                        className=\"w-full bg-white rounded-lg shadow  md:mt-0 sm:max-w-md xl:p-0  \">\n                         <div className=\"p-6 space-y-4 bg-gray-50 md:space-y-6 sm:p-8  rounded-lg shadow  border-gray-900  \">\n      <h1 className=\"text-xl md:text-2xl font-bold text-gray-900 \">\n                                Sign in to your account\n                            </h1>\n                            <div className=\"space-y-4   md:space-y-6\" >\n                                <div>\n                                    <label htmlFor=\"email\"\n                                           className=\"block mb-2 text-sm font-medium text-gray-900 \">Your\n                                        email</label>\n                                    <input type=\"email\" name=\"email\" id=\"email\"\n                                           value={username}\n                                            onChange={(e) => setUsername(e.target.value)}\n                                           className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 \"\n                                           placeholder=\"name@gmail.com\" />\n                                </div>\n                                <div>\n                                    <label htmlFor=\"password\"\n                                           className=\"block mb-2 text-sm font-medium text-gray-900 \">Password</label>\n                                    <input type=\"password\" name=\"password\" id=\"password\" placeholder=\"••••••••\"\n                                            value={password}\n                                            onChange={(e) => setPassword(e.target.value)}\n                                           className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 :bg-gray-700\"\n                                           />\n                                </div>\n                                <div className=\"flex items-center justify-between\">\n                                    <div className=\"flex items-start\">\n                                        <div className=\"flex items-center h-5\">\n                                            <input id=\"remember\" aria-describedby=\"remember\" type=\"checkbox\"\n                                                   className=\"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300\"\n                                                   required=\"\"/>\n                                        </div>\n                                        <div className=\"ml-3 text-sm\">\n                                            <label htmlFor=\"remember\" className=\"text-gray-500\">Remember\n                                                me</label>\n                                        </div>\n                                    </div>\n                                    <a href=\"#\"\n                                       className=\"text-sm font-medium text-primary-600 hover:underline\">Forgot\n                                        password?</a>\n                                </div>\n                                <button onClick={(e)=>handleLogin(e)}\n                                        className=\"w-full text-white bg-blue-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center :bg-primary-600\">Sign\n                                    in\n                                </button>\n                                <p className=\"text-sm font-light text-gray-500\">\n                                    Don’t have an account yet? <a href=\"#\"\n                                                                  className=\"font-medium text-primary-600 hover:underline \">Sign\n                                    up</a>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </div>\n    )\n}\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}